{"version":3,"file":"static/webpack/static/development/pages/_app.js.556465085f2506a9922d.hot-update.js","sources":["webpack:///./components/Layout/index.js"],"sourcesContent":["import { useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as actions from \"../../store/actions\";\nimport cron from \"node-cron\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\n\nconst Layout = ({ children }) => {\n  const dispatch = useDispatch();\n  const refresh_token = useSelector((state) => state.auth.refresh_token);\n\n  const task = cron.schedule(\"15 * * * * *\", () => {\n    dispatch(actions.refreshToken(refresh_token));\n  });\n  if (refresh_token === undefined) {\n    task.destroy();\n  }\n  if (refresh_token) {\n    task.start();\n  }\n\n  const onTryAutoSignin = useCallback(\n    () => dispatch(actions.authCheckState()),\n    [dispatch]\n  );\n\n  useEffect(() => {\n    onTryAutoSignin();\n  }, [onTryAutoSignin]);\n\n  return (\n    <>\n      <Header />\n      {children}\n      <Footer />\n    </>\n  );\n};\n\nexport default Layout;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}