{"version":3,"file":"static/webpack/static/development/pages/_app.js.70cdcd14b7a889f7fad6.hot-update.js","sources":["webpack:///./components/Header/Signup.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport { Container, Row, Col, Form, Button, Spinner } from \"react-bootstrap\";\nimport { motion } from \"framer-motion\";\nimport { Fade } from \"../Transition\";\n\nimport swal from \"sweetalert\";\nimport validator from \"validator\";\nimport cx from \"classnames\";\nimport style from \"./Header.module.css\";\nimport axios from \"../../store/axios-instance\";\n\nconst formSignup = {\n  username: { value: \"\", isValid: true, message: \"\" },\n  email: { value: \"\", isValid: true, message: \"\" },\n  password: { value: \"\", isValid: true, message: \"\" },\n  confirm_password: { value: \"\", isValid: true, message: \"\" },\n};\n\nconst Signin = (props) => {\n  const [signup, setSignup] = useState(formSignup);\n  const [loading, setLoading] = useState(false);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    resetValidation();\n    if (formIsValid()) {\n      setLoading(true);\n      const data = {\n        username: signup.username.value,\n        email: signup.email.value,\n        password: signup.password.value,\n        confirm_password: signup.confirm_password.value,\n      };\n      axios\n        .post(\"/register\", data)\n        .then((res) => {\n          setLoading(false);\n          props.closed();\n          swal({\n            title: \"Awesome!\",\n            text: \"Check your email to activated your account.\",\n            icon: \"success\",\n          });\n          console.log(\"success\", res.data);\n        })\n        .catch((err) => {\n          console.log(\"error register\", err.response);\n          setLoading(false);\n          const state = JSON.parse(JSON.stringify(signup));\n          if (err.response && err.response.data) {\n            for (let key in err.response.data) {\n              if (state[key]) {\n                state[key].value = state[key].value;\n                state[key].isValid = false;\n                state[key].message = err.response.data[key];\n              }\n            }\n          }\n          setSignup(state);\n        });\n    }\n  };\n\n  let buttonValid = true;\n  for (let key in signup) {\n    buttonValid =\n      signup[key].isValid && buttonValid && signup[key].value && buttonValid;\n  }\n\n  const inputHandler = (event) => {\n    const { name, value } = event.target;\n    const data = {\n      ...signup,\n      [name]: {\n        ...signup[name],\n        value: value,\n        isValid: true,\n        message: \"\",\n      },\n    };\n    setSignup(data);\n  };\n\n  const resetValidation = () => {\n    const state = JSON.parse(JSON.stringify(signup));\n    for (let key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        state[key].isValid = true;\n        state[key].message = \"\";\n      }\n    }\n    setSignup(state);\n  };\n\n  const formIsValid = () => {\n    const username = { ...signup.username };\n    const email = { ...signup.email };\n    const password = { ...signup.password };\n    const confirm_password = { ...signup.confirm_password };\n    let isGood = true;\n\n    if (validator.isEmpty(username.value)) {\n      username.isValid = false;\n      username.message = \"Username can't be empty\";\n      isGood = false;\n    }\n    if (!validator.isEmail(email.value)) {\n      email.isValid = false;\n      email.message = \"Email isn't valid\";\n      isGood = false;\n    }\n    if (!validator.isLength(password.value, { min: 6, max: undefined })) {\n      password.isValid = false;\n      password.message = \"Password at least 6 characters\";\n      isGood = false;\n    }\n    if (validator.isEmpty(confirm_password.value)) {\n      confirm_password.isValid = false;\n      confirm_password.message = \"Password can't be empty\";\n      isGood = false;\n    }\n    if (!validator.equals(confirm_password.value, password.value)) {\n      confirm_password.isValid = false;\n      confirm_password.message = \"Password isn't matches\";\n      isGood = false;\n    }\n\n    if (!isGood) {\n      setSignup({ username, email, password, confirm_password });\n    }\n\n    return isGood;\n  };\n\n  const switchToSignin = useCallback(() => {\n    props.viewed();\n    resetValidation();\n  }, [props, resetValidation]);\n\n  const { username, email, password, confirm_password } = signup;\n  const usernameInvalid = cx({ \"is-invalid\": !username.isValid });\n  const emailInvalid = cx({ \"is-invalid\": !email.isValid });\n  const passwordInvalid = cx({ \"is-invalid\": !password.isValid });\n  const confirmInvalid = cx({ \"is-invalid\": !confirm_password.isValid });\n\n  return (\n    <motion.div initial=\"initial\" animate=\"in\" exit=\"out\" variants={Fade}>\n      <Container>\n        <Row className=\"justify-content-md-center\">\n          <Col>\n            <h2 className={`text-center ${style.ff_yeseva}`}>\n              Welcome Recruiters.\n            </h2>\n            <p className=\"text-center text-muted lh-15\">\n              <small>\n                Register as company to start Recruiting hundred of workers more\n                easier, faster and more accurate.\n              </small>\n            </p>\n          </Col>\n        </Row>\n\n        <Col className=\"mx-auto mt-1\">\n          <Form onSubmit={submitHandler}>\n            <Form.Row>\n              <Row className=\"row-cols-2\">\n                <Form.Group as={Col}>\n                  <Form.Label>Username</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"username\"\n                    placeholder=\"Username\"\n                    onChange={inputHandler}\n                    className={usernameInvalid}\n                    value={username.value}\n                  />\n                  {!username.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {username.message}\n                    </small>\n                  )}\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Email Address</Form.Label>\n                  <Form.Control\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email Address\"\n                    onChange={inputHandler}\n                    className={emailInvalid}\n                    value={email.value}\n                  />\n                  {!email.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {email.message}\n                    </small>\n                  )}\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Enter Password\"\n                    onChange={inputHandler}\n                    className={passwordInvalid}\n                    value={password.value}\n                  />\n                  {!password.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {password.message}\n                    </small>\n                  )}\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Confirm Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"confirm_password\"\n                    placeholder=\"Confirm Password\"\n                    onChange={inputHandler}\n                    className={confirmInvalid}\n                    value={confirm_password.value}\n                  />\n                  {!confirm_password.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {confirm_password.message}\n                    </small>\n                  )}\n                </Form.Group>\n              </Row>\n              <Button\n                block\n                variants=\"primary\"\n                type=\"submit\"\n                className=\"mt-3 mb-3\"\n                disabled={!buttonValid}\n              >\n                Register{\" \"}\n                {loading && (\n                  <Spinner\n                    as=\"span\"\n                    animation=\"border\"\n                    size=\"sm\"\n                    aria-hidden=\"true\"\n                  />\n                )}\n              </Button>\n            </Form.Row>\n          </Form>\n        </Col>\n\n        <Row className=\"justify-content-md-center\">\n          <Col>\n            <p className=\"text-center text-muted lh-15\">\n              <small>\n                To make Automatch work, we log user data and share it with\n                service providers. Click{\" \"}\n              </small>\n              <small>\n                <span\n                  className={`${`text-info`} ${style.hov_pointer} `}\n                  onClick={switchToSignin}\n                >\n                  {\" \"}\n                  “Sign in”{\" \"}\n                </span>\n              </small>\n              <small>\n                above to accept Automatch’s Terms of Service &amp; Privacy\n                Policy.\n              </small>\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    </motion.div>\n  );\n};\n\nexport default Signin;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvHA;AAAA;AAAA;AAAA;AA0HA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;;;;A","sourceRoot":""}