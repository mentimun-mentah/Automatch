{"version":3,"file":"static/webpack/static/development/pages/jobs.js.605badb0e350150695c7.hot-update.js","sources":["webpack:///./hoc/withAuth.js"],"sourcesContent":["import { Component } from \"react\";\nimport cookies from \"nookies\";\nimport Router from \"next/router\";\n\nconst authenticate = (context) => {\n  const { access_token } = cookies.get(context);\n\n  // Checking if cookie is present\n  // if it is not present, redirect user to signin page\n  if (context.req && !access_token) {\n    console.log(\"ctx req ====> \", context);\n    context.res.writeHead(302, { Location: \"/\" });\n    context.res.end();\n    return;\n  }\n\n  if (!access_token) {\n    Router.push(\"/\");\n  }\n\n  return access_token;\n};\n\nconst isAuth = (context) => {\n  const { access_token } = cookies.get(context);\n  return access_token;\n};\n\nconst withAuth = (WrappedComponent) => {\n  return class extends Component {\n    static async getInitialProps(context) {\n      const access_token = authenticate(context);\n\n      const componentProps =\n        WrappedComponent.getInitialProps &&\n        (await WrappedComponent.getInitialProps(context));\n\n      return { ...componentProps, access_token };\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n};\n\nexport { withAuth, isAuth };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AADA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAIA;AAJA;AAQA;AARA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAeA;AACA;;;;;A","sourceRoot":""}