{"ast":null,"code":"import cookie from \"nookies\";\nimport * as actionType from \"./actionTypes\";\n/*** AUTH ***/\n\nexport var authStart = function authStart() {\n  return {\n    type: actionType.AUTH_START\n  };\n};\nexport var authSuccess = function authSuccess(access_token, refresh_token) {\n  return {\n    type: actionType.AUTH_SUCCESS,\n    access_token: access_token,\n    refresh_token: refresh_token\n  };\n};\nexport var authFail = function authFail() {\n  return {\n    type: actionType.AUTH_FAIL\n  };\n};\n/*** AUTH ***/\n\nexport var authCheckState = function authCheckState(ctx) {\n  return function (dispatch) {\n    dispatch(authStart());\n\n    var _cookie$get = cookie.get(ctx),\n        access_token = _cookie$get.access_token;\n\n    if (access_token) {\n      var _cookie$get2 = cookie.get(ctx),\n          refresh_token = _cookie$get2.refresh_token;\n\n      if (refresh_token) {\n        dispatch(authSuccess(access_token, refresh_token));\n      }\n    } else {\n      dispatch(authFail());\n    }\n  };\n};","map":{"version":3,"sources":["/Users/paulus/Desktop/automatch/store/actions/auth.js"],"names":["cookie","actionType","authStart","type","AUTH_START","authSuccess","access_token","refresh_token","AUTH_SUCCESS","authFail","AUTH_FAIL","authCheckState","ctx","dispatch","get"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,OAAO,KAAKC,UAAZ,MAA4B,eAA5B;AAEA;;AACA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC7B,SAAO;AACLC,IAAAA,IAAI,EAAEF,UAAU,CAACG;AADZ,GAAP;AAGD,CAJM;AAKP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,YAAD,EAAeC,aAAf,EAAiC;AAC1D,SAAO;AACLJ,IAAAA,IAAI,EAAEF,UAAU,CAACO,YADZ;AAELF,IAAAA,YAAY,EAAEA,YAFT;AAGLC,IAAAA,aAAa,EAAEA;AAHV,GAAP;AAKD,CANM;AAOP,OAAO,IAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAC5B,SAAO;AACLN,IAAAA,IAAI,EAAEF,UAAU,CAACS;AADZ,GAAP;AAGD,CAJM;AAKP;;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAS;AACrC,SAAO,UAACC,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACX,SAAS,EAAV,CAAR;;AADmB,sBAEMF,MAAM,CAACc,GAAP,CAAWF,GAAX,CAFN;AAAA,QAEXN,YAFW,eAEXA,YAFW;;AAGnB,QAAIA,YAAJ,EAAkB;AAAA,yBACUN,MAAM,CAACc,GAAP,CAAWF,GAAX,CADV;AAAA,UACRL,aADQ,gBACRA,aADQ;;AAEhB,UAAIA,aAAJ,EAAmB;AACjBM,QAAAA,QAAQ,CAACR,WAAW,CAACC,YAAD,EAAeC,aAAf,CAAZ,CAAR;AACD;AACF,KALD,MAKO;AACLM,MAAAA,QAAQ,CAACJ,QAAQ,EAAT,CAAR;AACD;AACF,GAXD;AAYD,CAbM","sourcesContent":["import cookie from \"nookies\";\nimport * as actionType from \"./actionTypes\";\n\n/*** AUTH ***/\nexport const authStart = () => {\n  return {\n    type: actionType.AUTH_START,\n  };\n};\nexport const authSuccess = (access_token, refresh_token) => {\n  return {\n    type: actionType.AUTH_SUCCESS,\n    access_token: access_token,\n    refresh_token: refresh_token,\n  };\n};\nexport const authFail = () => {\n  return {\n    type: actionType.AUTH_FAIL,\n  };\n};\n/*** AUTH ***/\n\nexport const authCheckState = (ctx) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    const { access_token } = cookie.get(ctx);\n    if (access_token) {\n      const { refresh_token } = cookie.get(ctx);\n      if (refresh_token) {\n        dispatch(authSuccess(access_token, refresh_token));\n      }\n    } else {\n      dispatch(authFail());\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}