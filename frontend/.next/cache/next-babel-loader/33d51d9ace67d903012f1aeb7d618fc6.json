{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/paulus/Desktop/automatch/pages/jobs/index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withAuth } from \"../../hoc/withAuth\";\nimport * as actions from \"../../store/actions\";\nimport Router from \"next/router\";\nimport swal from \"sweetalert\";\nimport validator from \"validator\";\nimport Jobs from \"../../components/Jobs/Job\";\nimport EmptyCard from \"../../components/Jobs/EmptyCard\";\nimport JobCard from \"../../components/Jobs/JobCard\";\nimport ScaleLoader from \"../../components/Transition/Spinner/ScaleLoader\";\nvar linkJob = {\n  link: {\n    value: \"\",\n    isValid: true,\n    message: \"\"\n  }\n};\n\nvar JobsContainer = function JobsContainer() {\n  var dispatch = useDispatch();\n\n  var _useState = useState(linkJob),\n      linkjob = _useState[0],\n      setLinkjob = _useState[1];\n\n  var jobs = useSelector(function (state) {\n    return state.auth.user;\n  });\n  var loading = useSelector(function (state) {\n    return state.jobs.loading;\n  });\n  var onJobScraping = useCallback(function (url_job) {\n    return dispatch(actions.jobScraping(url_job));\n  }, [dispatch]);\n\n  var submitHandler = function submitHandler(event) {\n    event.preventDefault();\n    resetValidation();\n\n    if (linkIsValid()) {//onJobScraping(linkjob.link.value);\n      //clearLinkjobHandler();\n    }\n  };\n\n  var linkChangeHandler = function linkChangeHandler(event) {\n    var data = _objectSpread({}, linkjob, {\n      link: {\n        value: event.target.value,\n        isValid: true,\n        message: \"\"\n      }\n    });\n\n    setLinkjob(data);\n  };\n\n  var clearLinkjobHandler = useCallback(function () {\n    var data = _objectSpread({}, linkjob, {\n      link: {\n        value: \"\",\n        isValid: true,\n        message: \"\"\n      }\n    });\n\n    setLinkjob(data);\n  }, [linkjob]);\n\n  var linkIsValid = function linkIsValid() {\n    var link = _objectSpread({}, linkjob.link);\n\n    console.log(link.value);\n    var isGood = false;\n    return isGood;\n  };\n\n  var resetValidation = function resetValidation() {\n    var state = JSON.parse(JSON.stringify(linkjob));\n\n    for (var key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        state[key].isValid = true, state[key].message = \"\";\n      }\n    }\n\n    setLinkjob(state);\n  };\n\n  var jobCard = __jsx(EmptyCard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  });\n\n  if (jobs !== null && jobs.jobs !== undefined && jobs.jobs.length > 0) {\n    jobCard = __jsx(\"div\", {\n      className: \"row row-cols-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, jobs.jobs.map(function (job, i) {\n      var image = job.image,\n          company = job.company,\n          location = job.location,\n          title_job = job.title_job,\n          posted = job.posted,\n          id = job.id;\n      return __jsx(JobCard, {\n        key: i,\n        image: image,\n        company: company,\n        location: location,\n        title_job: title_job,\n        posted: posted,\n        id: id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      });\n    }));\n  }\n\n  var submitLink = null;\n\n  if (loading) {\n    submitLink = __jsx(ScaleLoader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 18\n      }\n    });\n  }\n\n  return __jsx(React.Fragment, null, submitLink, __jsx(Jobs, {\n    change: linkChangeHandler,\n    submit: submitHandler,\n    value: linkjob.link.value,\n    clearLink: clearLinkjobHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, jobCard));\n};\n\nexport default withAuth(JobsContainer);","map":{"version":3,"sources":["/Users/paulus/Desktop/automatch/pages/jobs/index.js"],"names":["useState","useCallback","useDispatch","useSelector","withAuth","actions","Router","swal","validator","Jobs","EmptyCard","JobCard","ScaleLoader","linkJob","link","value","isValid","message","JobsContainer","dispatch","linkjob","setLinkjob","jobs","state","auth","user","loading","onJobScraping","url_job","jobScraping","submitHandler","event","preventDefault","resetValidation","linkIsValid","linkChangeHandler","data","target","clearLinkjobHandler","console","log","isGood","JSON","parse","stringify","key","hasOwnProperty","jobCard","undefined","length","map","job","i","image","company","location","title_job","posted","id","submitLink"],"mappings":"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","sourcesContent":["import { useState, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withAuth } from \"../../hoc/withAuth\";\n\nimport * as actions from \"../../store/actions\";\nimport Router from \"next/router\";\nimport swal from \"sweetalert\";\nimport validator from \"validator\";\nimport Jobs from \"../../components/Jobs/Job\";\nimport EmptyCard from \"../../components/Jobs/EmptyCard\";\nimport JobCard from \"../../components/Jobs/JobCard\";\nimport ScaleLoader from \"../../components/Transition/Spinner/ScaleLoader\";\n\nconst linkJob = {\n  link: { value: \"\", isValid: true, message: \"\" },\n};\n\nconst JobsContainer = () => {\n  const dispatch = useDispatch();\n  const [linkjob, setLinkjob] = useState(linkJob);\n\n  const jobs = useSelector((state) => state.auth.user);\n  const loading = useSelector((state) => state.jobs.loading);\n\n  const onJobScraping = useCallback(\n    (url_job) => dispatch(actions.jobScraping(url_job)),\n    [dispatch]\n  );\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    resetValidation();\n    if (linkIsValid()) {\n      //onJobScraping(linkjob.link.value);\n      //clearLinkjobHandler();\n    }\n  };\n\n  const linkChangeHandler = (event) => {\n    const data = {\n      ...linkjob,\n      link: { value: event.target.value, isValid: true, message: \"\" },\n    };\n    setLinkjob(data);\n  };\n\n  const clearLinkjobHandler = useCallback(() => {\n    const data = {\n      ...linkjob,\n      link: { value: \"\", isValid: true, message: \"\" },\n    };\n    setLinkjob(data);\n  }, [linkjob]);\n\n  const linkIsValid = () => {\n    const link = { ...linkjob.link };\n    console.log(link.value);\n\n    let isGood = false;\n\n    return isGood;\n  };\n\n  const resetValidation = () => {\n    const state = JSON.parse(JSON.stringify(linkjob));\n    for (let key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        (state[key].isValid = true), (state[key].message = \"\");\n      }\n    }\n    setLinkjob(state);\n  };\n\n  let jobCard = <EmptyCard />;\n  if (jobs !== null && jobs.jobs !== undefined && jobs.jobs.length > 0) {\n    jobCard = (\n      <div className=\"row row-cols-5\">\n        {jobs.jobs.map((job, i) => {\n          const { image, company, location, title_job, posted, id } = job;\n          return (\n            <JobCard\n              key={i}\n              image={image}\n              company={company}\n              location={location}\n              title_job={title_job}\n              posted={posted}\n              id={id}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n\n  let submitLink = null;\n  if (loading) {\n    submitLink = <ScaleLoader />;\n  }\n\n  return (\n    <>\n      {submitLink}\n      <Jobs\n        change={linkChangeHandler}\n        submit={submitHandler}\n        value={linkjob.link.value}\n        clearLink={clearLinkjobHandler}\n      >\n        {jobCard}\n      </Jobs>\n    </>\n  );\n};\n\nexport default withAuth(JobsContainer);\n"]},"metadata":{},"sourceType":"module"}