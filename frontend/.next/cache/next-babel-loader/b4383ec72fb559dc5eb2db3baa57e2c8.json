{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/paulus/Desktop/automatch/components/Header/Signup.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useCallback } from \"react\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport { motion } from \"framer-motion\";\nimport { Fade } from \"../Transition\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport validator from \"validator\";\nimport cx from \"classnames\";\nimport style from \"./Header.module.css\";\nimport axios from \"../../store/axios-instance\";\nvar formSignup = {\n  username: {\n    value: \"\",\n    isValid: true,\n    message: \"\"\n  },\n  email: {\n    value: \"\",\n    isValid: true,\n    message: \"\"\n  },\n  password: {\n    value: \"\",\n    isValid: true,\n    message: \"\"\n  },\n  confirm_password: {\n    value: \"\",\n    isValid: true,\n    message: \"\"\n  }\n};\n\nvar Signin = function Signin(props) {\n  var _useState = useState(formSignup),\n      signup = _useState[0],\n      setSignup = _useState[1];\n\n  var submitHandler = function submitHandler(event) {\n    event.preventDefault();\n    var data = {\n      username: signup.username.value,\n      email: signup.email.value,\n      password: signup.password.value,\n      confirm_password: signup.confirm_password.value\n    };\n    console.log(data);\n    resetValidation();\n\n    if (formIsValid) {\n      var _data = {\n        username: signup.username.value,\n        email: signup.email.value,\n        password: signup.password.value,\n        confirm_password: signup.confirm_password.value\n      };\n      axios.post(\"/register\", _data).then(function (res) {\n        console.log(\"success\", res.data);\n      })[\"catch\"](function (err) {\n        console.log(err.response.data);\n        var _err$response$data = err.response.data,\n            username = _err$response$data.username,\n            email = _err$response$data.email,\n            password = _err$response$data.password,\n            confirm_password = _err$response$data.confirm_password; //const state = JSON.parse(JSON.stringify(signup));\n\n        var state = err.response.data;\n\n        for (var key in err.response.data) {\n          console.log(key);\n\n          if (state[key]) {\n            state[key].isValid = false;\n            state[key].message = err.response.data[key];\n          } //const data = {\n          //...signup,\n          //[key]: {\n          //...signup[key],\n          //value: \"\",\n          //isValid: false,\n          //message: err.response.data[key],\n          //},\n          //};\n          //setSignup(data);\n\n        }\n\n        setSignup(state);\n        console.log(signup);\n      });\n    }\n  };\n\n  var inputHandler = function inputHandler(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n\n    var data = _objectSpread({}, signup, _defineProperty({}, name, _objectSpread({}, signup[name], {\n      value: value,\n      isValid: true,\n      message: \"\"\n    })));\n\n    setSignup(data);\n  };\n\n  var resetValidation = function resetValidation() {\n    var state = JSON.parse(JSON.stringify(signup));\n\n    for (var key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        state[key].isValid = true;\n        state[key].message = \"\";\n      }\n    }\n\n    setSignup(state);\n  };\n\n  var formIsValid = function formIsValid() {\n    var username = _objectSpread({}, signup.username);\n\n    var email = _objectSpread({}, signup.email);\n\n    var password = _objectSpread({}, signup.password);\n\n    var confirmPassword = _objectSpread({}, signup.confirm_password);\n\n    var isGood = true;\n\n    if (validator.isEmpty(username.value)) {\n      username.isValid = false;\n      username.message = \"Username can't be empty\";\n      isGood = false;\n    }\n\n    if (!validator.isEmail(email.value)) {\n      email.isValid = false;\n      email.message = \"Email isn't valid\";\n      isGood = false;\n    }\n\n    if (!validator.isLength(password.value, {\n      min: 6,\n      max: undefined\n    })) {\n      password.isValid = false;\n      password.message = \"Password at least 6 characters\";\n      isGood = false;\n    }\n\n    if (validator.isEmpty(confirm_password.value)) {\n      confirm_password.isValid = false;\n      confirm_password.message = \"Password can't be empty\";\n      isGood = false;\n    }\n\n    if (!validator.equals(confirm_password.value, password.value)) {\n      confirm_password.isValid = false;\n      confirm_password.message = \"Password isn't matches\";\n      isGood = false;\n    }\n\n    if (!isGood) {\n      setSignup({\n        username: username,\n        email: email,\n        password: password,\n        confirm_password: confirm_password\n      });\n    }\n\n    return isGood;\n  };\n\n  var switchToSignin = useCallback(function () {\n    props.viewed();\n    resetValidation();\n  }, [props, resetValidation]);\n  var username = signup.username,\n      email = signup.email,\n      password = signup.password,\n      confirm_password = signup.confirm_password;\n  var usernameInvalid = cx({\n    \"is-invalid\": !username.isValid\n  });\n  var emailInvalid = cx({\n    \"is-invalid\": !email.isValid\n  });\n  var passwordInvalid = cx({\n    \"is-invalid\": !password.isValid\n  });\n  var confirmInvalid = cx({\n    \"is-invalid\": !confirm_password.isValid\n  });\n  return __jsx(motion.div, {\n    initial: \"initial\",\n    animate: \"in\",\n    exit: \"out\",\n    variants: Fade,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    className: \"justify-content-md-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, __jsx(\"h2\", {\n    className: \"text-center \".concat(style.ff_yeseva),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, \"Welcome Recruiters.\"), __jsx(\"p\", {\n    className: \"text-center text-muted lh-15\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, \"Register as company to start Recruiting hundred of workers more easier, faster and more accurate.\")))), __jsx(Col, {\n    className: \"mx-auto mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    className: \"row-cols-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Group, {\n    as: Col,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 19\n    }\n  }, \"Username\"), __jsx(Form.Control, {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    onChange: inputHandler,\n    className: usernameInvalid,\n    value: username.value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }), !username.isValid && __jsx(\"small\", {\n    className: \"form-text text-muted mt-0 mb-n2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, username.message)), __jsx(Form.Group, {\n    as: Col,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, \"Email Address\"), __jsx(Form.Control, {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email Address\",\n    onChange: inputHandler,\n    className: emailInvalid,\n    value: email.value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }), !email.isValid && __jsx(\"small\", {\n    className: \"form-text text-muted mt-0 mb-n2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, email.message)), __jsx(Form.Group, {\n    as: Col,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }, \"Password\"), __jsx(Form.Control, {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter Password\",\n    onChange: inputHandler,\n    className: passwordInvalid,\n    value: password.value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }), !password.isValid && __jsx(\"small\", {\n    className: \"form-text text-muted mt-0 mb-n2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, password.message)), __jsx(Form.Group, {\n    as: Col,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  }, \"Confirm Password\"), __jsx(Form.Control, {\n    type: \"password\",\n    name: \"confirmPassword\",\n    placeholder: \"Confirm Password\",\n    onChange: inputHandler,\n    className: confirmInvalid,\n    value: confirm_password.value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 19\n    }\n  }), !confirm_password.isValid && __jsx(\"small\", {\n    className: \"form-text text-muted mt-0 mb-n2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, confirm_password.message))), __jsx(Button, {\n    block: true,\n    variants: \"primary\",\n    type: \"submit\",\n    className: \"mt-3 mb-3\",\n    disabled: username.isValid && email.isValid && password.isValid && confirm_password.isValid,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 15\n    }\n  }, \"Register\")))), __jsx(Row, {\n    className: \"justify-content-md-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: \"text-center text-muted lh-15\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }, __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, \"To make Automatch work, we log user data and share it with service providers. Click\", \" \"), __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"\".concat(\"text-info\", \" \", style.hov_pointer, \" \"),\n    onClick: switchToSignin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, \" \", \"\\u201CSign in\\u201D\", \" \")), __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }, \"above to accept Automatch\\u2019s Terms of Service & Privacy Policy.\"))))));\n};\n\nexport default Signin;","map":{"version":3,"sources":["/Users/paulus/Desktop/automatch/components/Header/Signup.js"],"names":["useState","useCallback","Container","Row","Col","Form","Button","motion","Fade","useDispatch","useSelector","actions","validator","cx","style","axios","formSignup","username","value","isValid","message","email","password","confirm_password","Signin","props","signup","setSignup","submitHandler","event","preventDefault","data","console","log","resetValidation","formIsValid","post","then","res","err","response","state","key","inputHandler","target","name","JSON","parse","stringify","hasOwnProperty","confirmPassword","isGood","isEmpty","isEmail","isLength","min","max","undefined","equals","switchToSignin","viewed","usernameInvalid","emailInvalid","passwordInvalid","confirmInvalid","ff_yeseva","hov_pointer"],"mappings":"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","sourcesContent":["import { useState, useCallback } from \"react\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport { motion } from \"framer-motion\";\nimport { Fade } from \"../Transition\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as actions from \"../../store/actions\";\nimport validator from \"validator\";\nimport cx from \"classnames\";\nimport style from \"./Header.module.css\";\nimport axios from \"../../store/axios-instance\";\n\nconst formSignup = {\n  username: { value: \"\", isValid: true, message: \"\" },\n  email: { value: \"\", isValid: true, message: \"\" },\n  password: { value: \"\", isValid: true, message: \"\" },\n  confirm_password: { value: \"\", isValid: true, message: \"\" },\n};\n\nconst Signin = (props) => {\n  const [signup, setSignup] = useState(formSignup);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    const data = {\n      username: signup.username.value,\n      email: signup.email.value,\n      password: signup.password.value,\n      confirm_password: signup.confirm_password.value,\n    };\n    console.log(data);\n    resetValidation();\n    if (formIsValid) {\n      const data = {\n        username: signup.username.value,\n        email: signup.email.value,\n        password: signup.password.value,\n        confirm_password: signup.confirm_password.value,\n      };\n      axios\n        .post(\"/register\", data)\n        .then((res) => {\n          console.log(\"success\", res.data);\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n          const {\n            username,\n            email,\n            password,\n            confirm_password,\n          } = err.response.data;\n          //const state = JSON.parse(JSON.stringify(signup));\n          const state = err.response.data;\n          for (let key in err.response.data) {\n            console.log(key);\n            if (state[key]) {\n              state[key].isValid = false;\n              state[key].message = err.response.data[key];\n            }\n            //const data = {\n            //...signup,\n            //[key]: {\n            //...signup[key],\n            //value: \"\",\n            //isValid: false,\n            //message: err.response.data[key],\n            //},\n            //};\n            //setSignup(data);\n          }\n          setSignup(state);\n          console.log(signup);\n        });\n    }\n  };\n\n  const inputHandler = (event) => {\n    const { name, value } = event.target;\n    const data = {\n      ...signup,\n      [name]: {\n        ...signup[name],\n        value: value,\n        isValid: true,\n        message: \"\",\n      },\n    };\n    setSignup(data);\n  };\n\n  const resetValidation = () => {\n    const state = JSON.parse(JSON.stringify(signup));\n    for (let key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        state[key].isValid = true;\n        state[key].message = \"\";\n      }\n    }\n    setSignup(state);\n  };\n\n  const formIsValid = () => {\n    const username = { ...signup.username };\n    const email = { ...signup.email };\n    const password = { ...signup.password };\n    const confirmPassword = { ...signup.confirm_password };\n    let isGood = true;\n\n    if (validator.isEmpty(username.value)) {\n      username.isValid = false;\n      username.message = \"Username can't be empty\";\n      isGood = false;\n    }\n    if (!validator.isEmail(email.value)) {\n      email.isValid = false;\n      email.message = \"Email isn't valid\";\n      isGood = false;\n    }\n    if (!validator.isLength(password.value, { min: 6, max: undefined })) {\n      password.isValid = false;\n      password.message = \"Password at least 6 characters\";\n      isGood = false;\n    }\n    if (validator.isEmpty(confirm_password.value)) {\n      confirm_password.isValid = false;\n      confirm_password.message = \"Password can't be empty\";\n      isGood = false;\n    }\n    if (!validator.equals(confirm_password.value, password.value)) {\n      confirm_password.isValid = false;\n      confirm_password.message = \"Password isn't matches\";\n      isGood = false;\n    }\n\n    if (!isGood) {\n      setSignup({ username, email, password, confirm_password });\n    }\n\n    return isGood;\n  };\n\n  const switchToSignin = useCallback(() => {\n    props.viewed();\n    resetValidation();\n  }, [props, resetValidation]);\n\n  const { username, email, password, confirm_password } = signup;\n  const usernameInvalid = cx({ \"is-invalid\": !username.isValid });\n  const emailInvalid = cx({ \"is-invalid\": !email.isValid });\n  const passwordInvalid = cx({ \"is-invalid\": !password.isValid });\n  const confirmInvalid = cx({ \"is-invalid\": !confirm_password.isValid });\n\n  return (\n    <motion.div initial=\"initial\" animate=\"in\" exit=\"out\" variants={Fade}>\n      <Container>\n        <Row className=\"justify-content-md-center\">\n          <Col>\n            <h2 className={`text-center ${style.ff_yeseva}`}>\n              Welcome Recruiters.\n            </h2>\n            <p className=\"text-center text-muted lh-15\">\n              <small>\n                Register as company to start Recruiting hundred of workers more\n                easier, faster and more accurate.\n              </small>\n            </p>\n          </Col>\n        </Row>\n\n        <Col className=\"mx-auto mt-1\">\n          <Form onSubmit={submitHandler}>\n            <Form.Row>\n              <Row className=\"row-cols-2\">\n                <Form.Group as={Col}>\n                  <Form.Label>Username</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"username\"\n                    placeholder=\"Username\"\n                    onChange={inputHandler}\n                    className={usernameInvalid}\n                    value={username.value}\n                  />\n                  {!username.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {username.message}\n                    </small>\n                  )}\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Email Address</Form.Label>\n                  <Form.Control\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email Address\"\n                    onChange={inputHandler}\n                    className={emailInvalid}\n                    value={email.value}\n                  />\n                  {!email.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {email.message}\n                    </small>\n                  )}\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Enter Password\"\n                    onChange={inputHandler}\n                    className={passwordInvalid}\n                    value={password.value}\n                  />\n                  {!password.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {password.message}\n                    </small>\n                  )}\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Confirm Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    placeholder=\"Confirm Password\"\n                    onChange={inputHandler}\n                    className={confirmInvalid}\n                    value={confirm_password.value}\n                  />\n                  {!confirm_password.isValid && (\n                    <small className=\"form-text text-muted mt-0 mb-n2\">\n                      {confirm_password.message}\n                    </small>\n                  )}\n                </Form.Group>\n              </Row>\n              <Button\n                block\n                variants=\"primary\"\n                type=\"submit\"\n                className=\"mt-3 mb-3\"\n                disabled={\n                  username.isValid &&\n                  email.isValid &&\n                  password.isValid &&\n                  confirm_password.isValid\n                }\n              >\n                Register\n              </Button>\n            </Form.Row>\n          </Form>\n        </Col>\n\n        <Row className=\"justify-content-md-center\">\n          <Col>\n            <p className=\"text-center text-muted lh-15\">\n              <small>\n                To make Automatch work, we log user data and share it with\n                service providers. Click{\" \"}\n              </small>\n              <small>\n                <span\n                  className={`${`text-info`} ${style.hov_pointer} `}\n                  onClick={switchToSignin}\n                >\n                  {\" \"}\n                  “Sign in”{\" \"}\n                </span>\n              </small>\n              <small>\n                above to accept Automatch’s Terms of Service &amp; Privacy\n                Policy.\n              </small>\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    </motion.div>\n  );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}