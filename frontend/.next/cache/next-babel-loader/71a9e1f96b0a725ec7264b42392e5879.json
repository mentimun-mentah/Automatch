{"ast":null,"code":"var _jsxFileName = \"/Users/paulus/Desktop/automatch/pages/jobs/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withAuth } from \"../../hoc/withAuth\";\nimport Router from \"next/router\";\nimport swal from \"sweetalert\";\nimport validator from \"validator\";\nimport axios from \"../../store/axios-instance\";\nimport Jobs from \"../../components/Jobs/Job\";\nimport * as actions from \"../../store/actions\";\nconst linkJob = {\n  link: {\n    value: \"\",\n    isValid: true,\n    message: \"\"\n  }\n};\n\nconst JobsContainer = () => {\n  const {\n    0: linkjob,\n    1: setLinkjob\n  } = useState(linkJob);\n  const access_token = useSelector(state => state.auth.access_token);\n  const clearLinkjobHandler = useCallback(() => {\n    const data = _objectSpread({}, linkjob, {\n      link: {\n        value: \"\",\n        isValid: true,\n        message: \"\"\n      }\n    });\n\n    setLinkjob(data);\n  }, [linkjob]);\n\n  const submitHandler = event => {\n    event.preventDefault();\n    resetValidation();\n\n    if (linkIsValid()) {\n      const headerCfg = {\n        headers: {\n          Authorization: `Bearer ${access_token}`\n        }\n      };\n      const link = {\n        url_job: url_job\n      };\n      console.log(linkjob.link.value);\n    }\n  };\n\n  const linkChangeHandler = event => {\n    const data = _objectSpread({}, linkjob, {\n      link: {\n        value: event.target.value,\n        isValid: true,\n        message: \"\"\n      }\n    });\n\n    setLinkjob(data);\n  };\n\n  const linkIsValid = () => {\n    const link = _objectSpread({}, linkjob.link);\n\n    let isGood = true;\n\n    if (validator.isEmpty(link.value, {\n      ignore_whitespace: true\n    })) {\n      link.isValid = false;\n      link.message = null;\n      link.isGood = false;\n      swal({\n        title: \"Upss not found!\",\n        text: \"You can click button register it to make your job portal available.\",\n        icon: \"warning\",\n        buttons: [\"Cancel\", \"Register it\"],\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) Router.push(\"/job-portal\", \"/job-portal\");\n      });\n    }\n\n    if (!isGood) {\n      setLinkjob(link);\n    }\n\n    return isGood;\n  };\n\n  const resetValidation = () => {\n    const state = JSON.parse(JSON.stringify(linkjob));\n\n    for (let key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        state[key].isValid = true, state[key].message = \"\";\n      }\n    }\n\n    setLinkjob(state);\n  };\n\n  return __jsx(Jobs, {\n    change: linkChangeHandler,\n    submit: submitHandler,\n    value: linkjob.link.value,\n    clearLink: clearLinkjobHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  });\n};\n\nJobsContainer.getInitialProps = ctx => {\n  ctx.store.dispatch(actions.getUser());\n};\n\nexport default withAuth(JobsContainer);","map":{"version":3,"sources":["/Users/paulus/Desktop/automatch/pages/jobs/index.js"],"names":["useState","useEffect","useCallback","useDispatch","useSelector","withAuth","Router","swal","validator","axios","Jobs","actions","linkJob","link","value","isValid","message","JobsContainer","linkjob","setLinkjob","access_token","state","auth","clearLinkjobHandler","data","submitHandler","event","preventDefault","resetValidation","linkIsValid","headerCfg","headers","Authorization","url_job","console","log","linkChangeHandler","target","isGood","isEmpty","ignore_whitespace","title","text","icon","buttons","dangerMode","then","willDelete","push","JSON","parse","stringify","key","hasOwnProperty","getInitialProps","ctx","store","dispatch","getUser"],"mappings":"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","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withAuth } from \"../../hoc/withAuth\";\n\nimport Router from \"next/router\";\nimport swal from \"sweetalert\";\nimport validator from \"validator\";\nimport axios from \"../../store/axios-instance\";\nimport Jobs from \"../../components/Jobs/Job\";\nimport * as actions from \"../../store/actions\";\n\nconst linkJob = {\n  link: { value: \"\", isValid: true, message: \"\" },\n};\n\nconst JobsContainer = () => {\n  const [linkjob, setLinkjob] = useState(linkJob);\n  const access_token = useSelector((state) => state.auth.access_token);\n\n  const clearLinkjobHandler = useCallback(() => {\n    const data = {\n      ...linkjob,\n      link: {\n        value: \"\",\n        isValid: true,\n        message: \"\",\n      },\n    };\n    setLinkjob(data);\n  }, [linkjob]);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    resetValidation();\n    if (linkIsValid()) {\n      const headerCfg = {\n        headers: { Authorization: `Bearer ${access_token}` },\n      };\n\n      const link = { url_job: url_job };\n      console.log(linkjob.link.value);\n    }\n  };\n\n  const linkChangeHandler = (event) => {\n    const data = {\n      ...linkjob,\n      link: {\n        value: event.target.value,\n        isValid: true,\n        message: \"\",\n      },\n    };\n    setLinkjob(data);\n  };\n\n  const linkIsValid = () => {\n    const link = { ...linkjob.link };\n    let isGood = true;\n\n    if (validator.isEmpty(link.value, { ignore_whitespace: true })) {\n      link.isValid = false;\n      link.message = null;\n      link.isGood = false;\n      swal({\n        title: \"Upss not found!\",\n        text:\n          \"You can click button register it to make your job portal available.\",\n        icon: \"warning\",\n        buttons: [\"Cancel\", \"Register it\"],\n        dangerMode: true,\n      }).then((willDelete) => {\n        if (willDelete) Router.push(\"/job-portal\", \"/job-portal\");\n      });\n    }\n    if (!isGood) {\n      setLinkjob(link);\n    }\n    return isGood;\n  };\n\n  const resetValidation = () => {\n    const state = JSON.parse(JSON.stringify(linkjob));\n    for (let key in state) {\n      if (state[key].hasOwnProperty(\"isValid\")) {\n        (state[key].isValid = true), (state[key].message = \"\");\n      }\n    }\n    setLinkjob(state);\n  };\n\n  return (\n    <Jobs\n      change={linkChangeHandler}\n      submit={submitHandler}\n      value={linkjob.link.value}\n      clearLink={clearLinkjobHandler}\n    />\n  );\n};\n\nJobsContainer.getInitialProps = (ctx) => {\n  ctx.store.dispatch(actions.getUser());\n};\n\nexport default withAuth(JobsContainer);\n"]},"metadata":{},"sourceType":"module"}